<!-- pages/app-shell.html â€” Top bar, both sidebars, footer wrapper -->

<div id="app">

  <!-- â”€â”€ TOP BAR â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
  <div class="top-bar">
    <div class="top-bar-left">
      <div class="top-logo">âš–ï¸ AICTE <span>PORTAL</span></div>
      <div class="role-badge" id="roleBadge">INSTITUTION</div>
    </div>
    <div class="top-bar-right">
      <div class="top-icon" onclick="navTo('notifications')" title="Notifications">
        ğŸ”” <span id="notifBadgeTop" style="display:none;background:var(--red-flag);color:#fff;border-radius:50%;padding:1px 5px;font-size:10px"></span>
      </div>
      <div class="user-pill">
        <div class="user-avatar" id="userAvatarTop">?</div>
        <div class="user-name" id="userNameTop">Loading...</div>
      </div>
      <button class="logout-btn" onclick="doLogout()">ğŸšª Logout</button>
    </div>
  </div>

  <div class="app-body">

    <!-- â”€â”€ INSTITUTION SIDEBAR â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
    <div class="sidebar" id="inst-sidebar">
      <div style="padding:14px 20px;border-bottom:1px solid var(--border)">
        <div style="font-size:10px;color:var(--gray-500);margin-bottom:3px">Logged in as</div>
        <div style="font-weight:700;color:var(--navy);font-size:13px" id="sidebarInstName">â€”</div>
        <div style="font-size:11px;color:var(--gray-500)" id="sidebarAicteId">â€”</div>
      </div>
      <div style="padding:10px 12px;border-bottom:1px solid var(--gray-200)">
        <div id="sidebarRiskCard" style="background:#FFF5EE;border:1px solid #FFD7B5;border-radius:6px;padding:10px;display:none">
          <div style="font-size:10px;font-weight:700;color:var(--saffron);margin-bottom:2px">âš¡ AI RISK SCORE</div>
          <div style="font-family:'Rajdhani';font-size:26px;font-weight:700" id="sidebarRiskScore">â€”</div>
          <div style="font-size:11px;color:var(--gray-500)" id="sidebarRiskLevel">â€”</div>
        </div>
        <div id="sidebarApprovalCard" style="margin-top:8px;display:none;border-radius:6px;padding:10px;border:1px solid">
          <div style="font-size:10px;font-weight:700;margin-bottom:2px" id="sidebarApprovalLabel">APPROVAL STATUS</div>
          <div style="font-family:'Rajdhani';font-size:15px;font-weight:700" id="sidebarApprovalStatus">â€”</div>
        </div>
      </div>
      <div class="sidebar-section">
        <div class="sidebar-section-title">Institution Menu</div>
        <div class="nav-item active" onclick="navTo('inst-dashboard')"><span class="ni">ğŸ“Š</span> Dashboard</div>
        <div class="nav-item" onclick="navTo('upload-disclosures')"><span class="ni">ğŸ“</span> Upload Disclosures</div>
        <div class="nav-item" onclick="navTo('my-disclosures')"><span class="ni">ğŸ“‹</span> My Disclosures</div>
        <div class="nav-item" onclick="navTo('ai-risk')"><span class="ni">ğŸ¤–</span> AI Risk Report</div>
        <div class="nav-item" onclick="navTo('approval-status')"><span class="ni">ğŸ“</span> Approval Status</div>
        <div class="nav-item" onclick="navTo('notifications')"><span class="ni">ğŸ””</span> Notifications</div>
        <div class="nav-item" onclick="navTo('profile')"><span class="ni">ğŸ›ï¸</span> Profile</div>
      </div>
    </div>

    <!-- â”€â”€ AUTHORITY SIDEBAR â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
    <div class="sidebar" id="auth-sidebar" style="display:none">
      <div style="padding:14px 20px;border-bottom:1px solid var(--border)">
        <div style="font-size:10px;color:var(--gray-500);margin-bottom:3px">Reviewer</div>
        <div style="font-weight:700;color:var(--navy);font-size:13px" id="authSidebarName">â€”</div>
        <div style="font-size:11px;color:var(--gray-500)">AICTE Authority Portal</div>
      </div>
      <div style="padding:10px 12px;border-bottom:1px solid var(--gray-200)">
        <div id="authPendingBadge" style="background:#FFF3CD;border:1px solid var(--amber);border-radius:6px;padding:8px;text-align:center;display:none">
          <div style="font-size:10px;font-weight:700;color:var(--amber)">PENDING REVIEWS</div>
          <div style="font-family:'Rajdhani';font-size:24px;font-weight:700;color:var(--amber)" id="authPendingCount">0</div>
        </div>
      </div>
      <div class="sidebar-section">
        <div class="sidebar-section-title">Authority Menu</div>
        <div class="nav-item active" onclick="navTo('auth-dashboard')"><span class="ni">ğŸ“Š</span> Dashboard</div>
        <div class="nav-item" onclick="navTo('auth-pending')"><span class="ni">ğŸ“‹</span> Pending Reviews</div>
        <div class="nav-item" onclick="navTo('auth-institutions')"><span class="ni">ğŸ›ï¸</span> All Institutions</div>
        <div class="nav-item" onclick="navTo('auth-analytics')"><span class="ni">ğŸ“ˆ</span> Analytics</div>
      </div>
    </div>

    <!-- â”€â”€ MAIN CONTENT (pages injected here) â”€â”€â”€â”€â”€â”€â”€â”€ -->
    <div class="main-content" id="mainContent">
      <!-- Institution pages and Authority pages are loaded here -->
    </div>

  </div><!-- end app-body -->

  <div class="gov-footer">
    <div>Â© 2025 All India Council for Technical Education | Ministry of Education</div>
    <div>Version 5.0.0 | <a>Terms of Use</a> | <a>Privacy Policy</a></div>
  </div>

</div><!-- end #app -->

<!-- REVIEW MODAL -->
<div class="modal-overlay" id="reviewModal">
  <div class="modal">
    <div class="modal-header">
      <h3 id="reviewModalTitle">Review Application</h3>
      <span class="modal-close" onclick="closeReviewModal()">Ã—</span>
    </div>
    <div class="modal-body" id="reviewModalBody"></div>
    <div class="modal-footer">
      <button class="btn btn-green" id="approveBtn" onclick="submitReview('approve')">âœ… Approve Application</button>
      <button class="btn btn-red" id="rejectBtn" onclick="submitReview('reject')">âŒ Reject Application</button>
      <button class="btn btn-navy" onclick="closeReviewModal()">Cancel</button>
    </div>
  </div>
</div>

<!-- Hidden file input for PDF uploads -->
<input type="file" id="hiddenFileInput" accept=".pdf" style="display:none" onchange="handleFileSelected(event)">
